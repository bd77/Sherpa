test1
ls
cd
ls
x <- c(2,3,7,9)
x
y <- c(9,7,3,2)
y[length(y)]
x
y
year
year <- 1990:1993
year
year <- 1990:1993
source('D:/WORK/software/Rcode/test1.R')
source('D:/WORK/software/Rcode/test1.R')
names <- c("payal", "shraddha", "kritika", "itida")
a<-[2 3 1]
a<-c[2 3 1]
a<-c([)2 3 1()
a<-c(2 3 5)
a<-c(2, 3, 5)
b<-c(21, 33, 15)
a
b
outer(a,b,"*")
outer(a,b,"*")
f <- function(x, y) cos(y)/(1 + x^2)
f
outer(a,b,f)
d <- outer(0:9, 0:9)
d
fr <- table(outer(d, d, "-"))
fr
plot(as.numeric(names(fr)), fr, type="h",
xlab="Determinant", ylab="Frequency")
f <- function(x, y) cos(y)/(1 + x^2)\
help(aperm)
A<-c(2,3,1;2,3,1)
A<-c(2,3,1,2,3,1)
A
aperm(A,c(2,1))
aperm(A,c(2,1))
x  <- array(1:24, 2:4)
x
help(array)
x  <- array(1:24, 2:4)
x
xt <- aperm(x, c(2,1,3))
xt
?lsfit
lsD9 <- lsfit(x = unclass(gl(2, 10)), y = weight)
ls.print(lsD9)
ctl <- c(4.17,5.58,5.18,6.11,4.50,4.61,5.17,4.53,5.33,5.14)
trt <- c(4.81,4.17,4.41,3.59,5.87,3.83,6.03,4.89,4.32,4.69)
ctl
group <- gl(2, 10, 20, labels = c("Ctl","Trt"))
group
weight <- c(ctl, trt)
weight
group
lm.D9 <- lm(weight ~ group)
group
ln.D9
lm.D9
Lst <- list(name="Fred", wife="Mary", no.children=3,
child.ages=c(4,7,9))
Lst
Lst[1]
Lst[[1]
Lst[[1]]
Lst[[1]]
Lst[1]
Lst$name
Lst
Lst[1]
Lst[[1]
Lst[[1]]
Lst[[1]]
accountants <- data.frame(home=statef, loot=incomes, shot=incomef)
accountants <- data.frame(home=statef, loot=incomes, shot=incomef)
?data.frame
L3 <- LETTERS[1:3]
fac <- sample(L3, 10, replace = TRUE)
L3
fac
d <- data.frame(x = 1, y = 1:10, fac = fac))
d <- data.frame(x = 1, y = 1:10, fac = fac)
d
HousePrice <- read.table("aaa")
l
ls
dir
HousePrice <- read.table("aaa.txt")
source('C:/Users/pisonen/Downloads/test.R', echo=TRUE)
setwd('D:/SHERPA/calculations/')
library(ncdf4)
library(ncdf4)
rm(list = ls())
setwd('./')
library(geosphere)
install.packages("geosphere")
rm(list = ls())
# set working directory
setwd('./')
library(geosphere)
library(ncdf4)
# vectors with latitudes and longitudes
dlon <- 0.5
dlat <- 0.25
lon.vec <- seq(from = -25.25, to = 59.75, by = dlon)     # longitudes of grid cell centre points
lon.vec
dlat <- 0.25
lon.vec <- seq(from = -25.25, to = 59.75, by = dlon)     # longitudes of grid cell centre points
lat.vec <- seq(from = 29.875, to = 72.875, by = dlat)    # latitudes of grid cell centre points
nlon <- NROW(lon.vec)
nlat <- NROW(lat.vec)
area.matrix <- matrix(NA, nrow = nlon, ncol = nlat)
i.lon <- 1
i.lat <- 173
for (i.lon in 1:nlon) {
lon <- lon.vec[i.lon]
for (i.lat in 1:nlat) {
lat <- lat.vec[i.lat]
gridcell <- rbind(c(lon - dlon / 2, lat - dlat / 2), c(lon - dlon / 2, lat + dlat / 2),
c(lon + dlon / 2, lat + dlat / 2), c(lon + dlon / 2, lat - dlat / 2),
c(lon - dlon / 2, lat - dlat / 2))
area.matrix[i.lon, i.lat] <- areaPolygon(gridcell) / 1e6   # area of cell in km^2
}
install.packages('openair')
kc1.airbase <- importAirbase(site = "gb0620a")
library("openair", lib.loc="D:/WORK/software/R/library")
kc1.airbase <- importAirbase(site = "gb0620a")
kc1.airbase
head(kc1.airbase)
sites <- airbaseFindCode(country = "dk", site.type = "traffic")
sites
sites <- airbaseFindCode(country = "it", site.type = "traffic")
sites
n.case <- 6
df.cases <- data.frame(case = 1:n.case,
Var.A = c(1, 0.5, 0.2, 1, 1.5, 0.5),
df.cases <- data.frame(case = 1:n.case,
Var.A = c(1, 0.5, 0.2, 1, 1.5, 0.5),
Var.EF1 = c(1, 1.5, 1.8, 1, 0.5, 1.5),
Var.EF2 = c(1, 1.5, 1.8, 0.1, 0.5, 0.5),
Var.A.sim = rep(NA, n.case),
Var.EF1.sim = rep(NA, n.case),
Var.EF2.sim = rep(NA, n.case),
accept = rep(NA, n.case))
# number of inventories
n.i <- 80
ccc
runif(10)
install.packages(c("foreign", "Matrix", "tibble"))
library(openair)
?airbaseFindCode
airbaseFindCode(country=c("CH"))
vec <- airbaseFindCode(country=c("CH"))
airbaseInfo (code = vec)
res < -airbaseInfo (code = vec)
res <- airbaseInfo (code = vec)
View(res)
View(res)
cd
pwd
ls
res
write.csv(res, file = 'CH-airbase-stations.csv', fileEncoding = "UTF8")
resFinal <- read.csv('CH-airbase-stations.csv', fileEncoding = "UTF8")
ls()
dir()
setwd("~/")
dir()
write.csv(res, file = 'CH-airbase-stations.csv', fileEncoding = "UTF8")
dir()
read.csv('CH-airbase-stations.csv', fileEncoding = "UTF8")
res
class(res)
Encoding(res)
Encoding(res$site)
res$site
enc2utf8(res$site)
v<-res$site
v
class(v)
as.vector(v)
class(as.vector(v))
enc2utf8(as.vector(v))
enc2utf8(as.vector(res$city))
encoding(as.vector(res$city))
Encoding(as.vector(res$city))
conditionalEval()
as.character(res.enc$utf8)
read.csv('CH-airbase-stations.csv', fileEncoding = "UTF8")
test <- read.csv('CH-airbase-stations.csv', fileEncoding = "UTF8")
test
Encoding(test)
Encoding(test$city)
Encoding(as.character(test$city))
/read.csv
?read.csv
test <- read.csv('CH-airbase-stations.csv', stringAsFactors = FALSE, fileEncoding = "UTF8")
test <- read.csv('CH-airbase-stations.csv', stringsAsFactors = FALSE, fileEncoding = "UTF8")
test
test <- read.csv('CH-airbase-stations.csv', stringsAsFactors = FALSE, encoding = "UTF8")
test
test <- read.csv('CH-airbase-stations.csv', stringsAsFactors = FALSE, fileEncoding = "UTF8")
test
View(res)
View(res)
View(res)
res
write.csv(res, file="CHresults.csv")
res2 <- read.csv('CHresults.csv',fileEncoding = "UTF8")
res2
write.csv(res2, 'CH-stations.csv')
library("ggplot2")
install.packages("ggplot2")
install.packages(cowplot)
install.packages("cowplot"")
install.packages(locfit)
install.packages("locfit"")
library("ggplot2")
source('D:/BKUP/Desktop/sa-workshop/SA_first_steps_Rscript.R/SA_first_steps_Rscript.R', echo=TRUE)
install.packages("cowplot")
install.packages("locfit")
source('D:/BKUP/Desktop/sa-workshop/SA_first_steps_Rscript.R/SA_first_steps_Rscript.R', echo=TRUE)
R.version
R.version()
R.version
?nls
?lsfit
?nlsfit
?krls
require(glmnet)
install.packages(glmnet)
install.packages("glmnet"")
# Chunk 1
summary(cars)
# Chunk 2
plot(cars)
knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(echo = FALSE)
summary(cars)
summary(cars)
summary(cars)
knitr::opts_chunk$set(echo = FALSE)
summary(cars)
plot(pressure)
knitr::opts_chunk$set(echo = FALSE)
summary(cars)
plot(pressure)
install.packages(Pandoc)
install.packages("Pandoc")
library(geocode)
library(ggmap)
geocode("Berlin")
library(spgwr)
install.packages(spgwr)
install.packages("spgwr")
data(columbus, package="spData")
data(columbus, package="spData")
data(columbus, package="spData")
bbx
bbs
head(bbs)
str(bbs)
str(coords)
col
col.lm
col.lm <- lm(CRIME ~ INC + HOVAL, data=columbus)
head(columbus)
glimpse(columbus)
library(dplyr)
glimpse(columbus)
summary(col.lm)
col.bw <- gwr.sel(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y))
library(spwgr)
installed.packages("spgwr")
install.packages("spgwr")
library(spgwr)
col.bw <- gwr.sel(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y))
col.bw
cbind(columbus$X, columbus$Y)
str(columbus)
?columbus
library(rgdal)
columbus <- readOGR(system.file("shapes/columbus.shp", package="spData")[1])
plot(columbus)
plot(columbus)
data(columbus, package="spData")
col.lm <- lm(CRIME ~ INC + HOVAL, data=columbus)
summary(col.lm)
col.bw <- gwr.sel(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y))
library(spgwr)
data(columbus, package="spData")
col.lm <- lm(CRIME ~ INC + HOVAL, data=columbus)
summary(col.lm)
col.bw <- gwr.sel(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y))
col.gauss <- gwr(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y), bandwidth=col.bw, hatmatrix=TRUE)
col.gauss
col.d <- gwr.sel(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y), gweight=gwr.bisquare)
col.bisq <- gwr(CRIME ~ INC + HOVAL, data=columbus,
coords=cbind(columbus$X, columbus$Y), bandwidth=col.d,
gweight=gwr.bisquare, hatmatrix=TRUE)
col.bisq
data(georgia)
data(georgia)
g.adapt.gauss <- gwr.sel(PctBach ~ TotPop90 + PctRural + PctEld + PctFB +
PctPov + PctBlack, data=gSRDF, adapt=TRUE)
res.adpt <- gwr(PctBach ~ TotPop90 + PctRural + PctEld + PctFB + PctPov +
PctBlack, data=gSRDF, adapt=g.adapt.gauss)
res.adpt
res.adpt$SDF
pairs(as(res.adpt$SDF, "data.frame")[,2:8], pch=".")
brks <- c(-0.25, 0, 0.01, 0.025, 0.075)
cols <- grey(5:2/6)
plot(res.adpt$SDF, col=cols[findInterval(res.adpt$SDF$PctBlack, brks,
all.inside=TRUE)])
res.adpt$SDF
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
setwd("~/")
setwd("~/")
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
getwd()
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city)
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
theme(axis.text=element_text(size=12) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city)
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city) +
theme(axis.text=element_text(size=12))
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city) +
theme(axis.text=element_text(size=8))
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city) +
theme(axis.text=element_text(size=6))
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city) +
theme(axis.text=element_text(size=8, angle=90))
ggsave(paste('./OUTPUT_per_source/comparingSRR_atlas_vs_120cells_',city,'.png'))
sherpaFinalResults %>%
select(model, target, source, snap, precursor, relative_potential) %>%
filter(target==city) %>%
group_by(model, source, snap) %>%
summarise(relativePotential=sum(relative_potential)) %>%
ggplot(aes(fill=snap, y=relativePotential, x=source)) +
geom_bar(stat='identity') +
facet_grid( ~ model) +
labs(title=city) +
theme(axis.text=element_text(size=12, angle=90))
ggsave(paste('./OUTPUT_per_source/comparingSRR_atlas_vs_120cells_',city,'.png'))
source('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
source('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_per_source.R')
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_diff_per_source.R')
debugSource('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_diff_per_source.R')
ggplot(data=diff_res1_res2, aes(fill=snap, y=`difference between relative potentials`, x=source)) +
geom_bar(stat='identity') +
ylim(-10,10)
labs(title=city) +
theme(axis.text=element_text(size=8, angle=90))
ggsave(paste('./OUTPUT_per_source/diff_comparingSRR_atlas_vs_120cells_',city,'.png'))
ggplot(data=diff_res1_res2, aes(fill=snap, y=`difference between relative potentials`, x=source)) +
geom_bar(stat='identity') +
ylim(-10,10) +
labs(title=city) +
theme(axis.text=element_text(size=8, angle=90))
source('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_diff_per_source.R')
source('D:/WORK/projects/1_urbIam/1_CODE_MATLAB/SHERPA/SHERPA-GITHUB/Sherpa/comparisonAtlasSRR_120clsSRR/20171215_perSNAP_perPrec_aggAreas/main2_diff_per_source.R')
